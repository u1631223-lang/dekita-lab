# キーボードタイピング学習モジュール構想

幼児が「キーを覚える＝遊び」という体験を通じて、身体感覚でキーボードに親しむことを目指すミニゲーム群の設計案。フロントエンドでは `GameModule` インターフェースに従って実装し、成功判定時には `useProgressStore` の `addStars` を呼び出して演出体験を統一する。

---

## 🎯 目的
- 子どもがキーの場所を暗記ではなく身体で覚える。
- ゲームとして楽しみながら打鍵スピードと空間認識を鍛える。
- 失敗しても笑ってリトライしたくなる心理設計を提供する。

---

## 🧩 ゲームの基本アイデア

### 1. おばけタイピング（基礎）
- 画面上から降りてくるおばけにキーが表示され、指定キーを押すとおばけが消える。
- 押し間違えるとおばけが驚いた顔で逃げる優しい演出に切り替える。
- 難易度が上がると降下スピードと同時出現数を増やし、反射的なキー入力を促す。
- コンボ成功時は連続エフェクト＋スター加算で達成感を高める。

### 2. 探せ！キーボード島
- キーボード全体を島マップ化し、各キーを宝箱に見立てて探索する。
- 「K の島を見つけろ！」といった指示に従い、対象キーを押して宝箱を開ける。
- ステージ制でアルファベット→数字キー→記号キーへと徐々に範囲を拡張する。
- ステージクリアごとに島マップが埋まり、進捗が視覚化される。

### 3. ドレミタイピング
- 指定キーを押すと音階が鳴り、動物キャラクターと音がリンクする仕掛け。
- 音の一致ゲームや短いメロディ再生に合わせた入力で聴覚記憶も鍛える。
- 成功時は音符と星のアニメーションでフィードバックし、サウンド演出を強調する。

### 4. タイピングレース（対戦モード）
- 2人対戦を想定し、正しいキー入力で自分のキャラクターが前進する競争ゲーム。
- 家族で同じ画面を見ながら遊べるよう、画面下部に双方の入力欄を配置する。
- 連勝で称号や装飾が解禁され、リプレイ性を確保する。

---

## 🧠 教育デザイン上の工夫

| 要素 | 内容 |
| --- | --- |
| フィードバック | 正解は明るい音＋エフェクト、不正解は優しい効果音で萎縮を防ぐ。 |
| 難易度設定 | レベル1は3キー（例: `A` `S` `D`）のみ。クリアに応じて対象キーを増やす。 |
| 報酬設計 | 連続正解でスターや王冠を獲得し、`useProgressStore.addStars` で演出と連動。 |
| 視覚記号 | 左手キーを青、右手キーを赤に色分けし、ホームポジションを意識させる。 |
| 学習強化 | ステージクリアでキー配置マップが埋まり、自分の成長を確認できる。 |

---

## 🛠️ 技術的実装メモ
- フロントは React＋Zustand 前提。ゲームごとに `front/src/modules/<game-name>` を作成し `init/startRound/evaluate/cleanup` を実装する。
- 入力検出は `keydown`/`keyup` をフックし、押下状態やタイミングを状態管理に保存する。
- 演出は CSS Animation や GSAP を活用し、操作遅延のないエフェクトを優先する。
- サウンド再生には Howler.js などの Web Audio ライブラリを利用し、軽量な音声をプリロードする。
- 難易度ごとのパラメータ（降下速度、出題キーセット、制限時間など）はセッションエンジンから渡せるよう設定化する。

---

## 🧒 5歳児向けのUX要点
- 1プレイは30秒〜1分程度に留め、集中力が切れる前にフィードバックを返す。
- 文字だけでなく色・キャラクター・記号を組み合わせ、「S＝スネーク」など連想しやすい出題にする。
- ミスしてもペナルティを与えず、「もう1回！」ボタンで即リトライできる流れにする。
- タップ操作でも進行できるよう、オンスクリーンキーボードを並行表示してハイブリッド操作を想定する。

---

## 🧱 難易度ステップ
1. 3キー（例: `A` `S` `D`）
2. ホームポジション（`A`〜`L`）
3. 全アルファベット
4. 数字キー
5. 記号キー

ステップ進行は連続成功率や平均反応時間で判定し、苦手キーが検知された場合は一時的に復習ステップへ戻す。

---

## 💡 将来的な拡張案
- **AI連動**: 正解速度や誤入力を分析して苦手キーを自動で出題する適応学習。
- **家族モード**: 親子でスコア比較や協力チャレンジを行い、「おとなに勝った！」演出を追加。
- **音声ナビ**: 「Aを押してみよう！」といった音声ガイドを追加し、視覚障害や非読み書き環境でも遊べるモードを提供。

---

## 次のアクション候補
1. ゲーム画面・状態遷移・難易度パラメータを整理した画面設計資料を作成する。
2. `front/src/modules/keyboard-playground`（仮）として JavaScript/TypeScript のプロトタイプコードを書き始める。
3. 報酬演出とサウンドアセットの要件を洗い出し、既存演出との整合性を確認する。

